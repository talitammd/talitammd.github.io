<!DOCTYPE html>

<html lang="zh-CN">

<head>
  
  <meta name="baidu-site-verification" content="code-J1Qg17G6wT" />
  <title>Node.js介绍 - 卷不过没事了</title>
  <meta charset="UTF-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  
  

    <!-- Site Verification -->
    <meta name="baidu-site-verification" content="code-J1Qg17G6wT" />

  <link rel="shortcut icon" href="/images/head/head.jpg" type="image/png" />
  <meta name="description" content="介绍概述 NodeJs不是JavaScript应用，也不是编程语言，因为编程语言用的是JavaScript，Nodejs是 JavaScript的运行时的环境。  Nodejs是构建在V8引擎之上的，V8引擎是由C&#x2F;C++编写的，因此我们的JavaSCript代码需要由C&#x2F;C++转化后再执行。  NodeJs 使用异步 I&#x2F;O 和事件驱动的设计理念，可以高效地处理大量">
<meta property="og:type" content="article">
<meta property="og:title" content="Node.js介绍">
<meta property="og:url" content="http://example.com/2024/04/30/Node-js_Tutorial/index.html">
<meta property="og:site_name" content="卷不过没事了">
<meta property="og:description" content="介绍概述 NodeJs不是JavaScript应用，也不是编程语言，因为编程语言用的是JavaScript，Nodejs是 JavaScript的运行时的环境。  Nodejs是构建在V8引擎之上的，V8引擎是由C&#x2F;C++编写的，因此我们的JavaSCript代码需要由C&#x2F;C++转化后再执行。  NodeJs 使用异步 I&#x2F;O 和事件驱动的设计理念，可以高效地处理大量">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2024/04/30/Node-js_Tutorial/1.png">
<meta property="og:image" content="http://example.com/2024/04/30/Node-js_Tutorial/Untitled.png">
<meta property="og:image" content="http://example.com/2024/04/30/Node-js_Tutorial/a.png">
<meta property="og:image" content="http://example.com/2024/04/30/Node-js_Tutorial/image.webp">
<meta property="article:published_time" content="2024-04-30T06:03:12.000Z">
<meta property="article:modified_time" content="2024-05-14T07:47:04.107Z">
<meta property="article:author" content="Talita">
<meta property="article:tag" content="node">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2024/04/30/Node-js_Tutorial/1.png">
  <link rel="stylesheet" href="https://lib.baomitu.com/highlight.js/9.15.8/styles/atom-one-dark.min.css" crossorigin>
  <link rel="stylesheet" href="/lib/mdui_043tiny/css/mdui.css">
  <link rel="stylesheet" href="/lib/iconfont/iconfont.css">
  <link rel="stylesheet" href="/lib/fancybox/css/jquery.fancybox.min.css">
  <link rel="stylesheet" href="https://lib.baomitu.com/justifiedGallery/3.8.1/css/justifiedGallery.min.css">
  
    <link rel="stylesheet" href="//at.alicdn.com/t/font_2421060_8z08qcz5sq3.css">
  
  <link rel="stylesheet" href="/css/style.css?v=1715787362434">
<meta name="generator" content="Hexo 7.2.0"></head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(/images/background/xiaomai.png)"></div>
    <div class="nexmoe-small" style="background-image: url(/images/background/lihui.jpeg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="Talita" class="mdui-btn mdui-btn-icon"><img src="/images/head/me.jpeg" alt="Talita"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Talita">
            <img src="/images/head/me.jpeg" alt="Talita" alt="Talita">
        </a>
    </div>
    <div class="nexmoe-count">
        <div class="nexmoe-count-item"><span>文章</span>5 <div class="item-radius"></div><div class="item-radius item-right"></div> </div>
        <div class="nexmoe-count-item"><span>标签</span>4<div class="item-radius"></div><div class="item-radius item-right"></div></div>
        <div class="nexmoe-count-item"><span>分类</span>4<div class="item-radius"></div><div class="item-radius item-right"></div></div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="首页">
            <i class="mdui-list-item-icon nexmoefont icon-meishi"></i>
            <div class="mdui-list-item-content">
                首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archives.html" title="归档">
            <i class="mdui-list-item-icon nexmoefont icon-hanbao1"></i>
            <div class="mdui-list-item-content">
                归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="关于">
            <i class="mdui-list-item-icon nexmoefont icon-jiubei1"></i>
            <div class="mdui-list-item-content">
                关于
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/friend.html" title="友链">
            <i class="mdui-list-item-icon nexmoefont icon-cola"></i>
            <div class="mdui-list-item-content">
                友链
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/download.html" title="下载中心">
            <i class="mdui-list-item-icon nexmoefont icon-tangguo"></i>
            <div class="mdui-list-item-content">
                下载中心
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
  
  
<!-- 站内搜索 -->

<div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search" >
        <form id="search-form">
            <label><input type="text" id="local-search-input" name="q" results="0" placeholder="站内搜索" class="input form-control" autocomplete="off" autocorrect="off"/></label>
            <!-- 清空/重置搜索框 -->
            <i class="fa fa-times" onclick="resetSearch()"></i>
        </form>
    </div>
    <div id="local-search-result"></div> <!-- 搜索结果区 -->
    <!-- <p class='no-result'></p> 无匹配时显示，注意在 CSS 中设置默认隐藏 -->
</div>


  
  <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="http://wpa.qq.com/msgrd?v=3&uin=2120252100&site=qq&menu=yes" target="_blank" mdui-tooltip="{content: 'QQ'}" style="color: rgb(64, 196, 255);background-color: rgba(64, 196, 255, .1);">
            <i class="nexmoefont icon-QQ"></i>
        </a><a class="mdui-ripple" href="mailto:tangyuxian@vip.qq.com" target="_blank" mdui-tooltip="{content: 'mail'}" style="color: rgb(249,8,8);background-color: rgba(249,8,8,.1);">
            <i class="nexmoefont icon-mail-fill"></i>
        </a><a class="mdui-ripple" href="https://blog.csdn.net/qq_40621378?type=blog" target="_blank" mdui-tooltip="{content: 'CSDN'}" style="color: rgb(199,29,35);background-color: rgba(199,29,35,.1);">
            <i class="nexmoefont icon-csdn"></i>
        </a><a class="mdui-ripple" href="https://www.cnblogs.com/lovetangyuxian/" target="_blank" mdui-tooltip="{content: '博客园'}" style="color: rgb(66, 214, 29);background-color: rgba(66, 214, 29, .1);">
            <i class="nexmoefont icon-bokeyuan"></i>
        </a><a class="mdui-ripple" href="https://github.com/tangyuxian/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a><a class="mdui-ripple" href="https://gitee.com/tangyuxian" target="_blank" mdui-tooltip="{content: 'gitee'}" style="color: rgb(255, 255, 255);background-color: rgb(199,29,35);">
            <i class="nexmoefont icon-mayun"></i>
        </a>
    </div>
</div>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章分类</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JavaScript/">JavaScript</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Node-js/">Node.js</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/代码管理/">代码管理</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/浏览器/">浏览器</a>
          <span class="category-list-count">1</span>
        </li>

        
      </ul>

    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <div id="randomtagcloud" class="nexmoe-widget tagcloud nexmoe-rainbow">
      <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/node/" style="font-size: 20px;">node</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size: 10px;">浏览器</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章归档</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/">2024</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>


<style>
.nexmoe-widget .archive-list-count{
	position : absolute;
	right: 15px;
	top:9px;
	color: #DDD;
}
</style>

  
</aside>
    <div class="nexmoe-copyright">
        &copy; 2024 Talita
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/tangyuxian/hexo-theme-tangyuxian" target="_blank">Tangyuxian</a><br/>
        <a href="http://beian.miit.gov.cn" target="_blank">辽ICP备2021002341号</a><br/>
        
        <div style="font-size: 12px">
            <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            本站总访问量  <a id="busuanzi_value_site_pv"></a> 次<br />
            本站访客数<a id="busuanzi_value_site_uv"></a>人次
        </div>
        
        
    </div>

</div><!-- .nexmoe-drawer -->

  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <div class="nexmoe-post">
    
        <div class="nexmoe-post-cover" style="padding-bottom: 26.666666666666668%;">
            <img data-src="/images/post/nodejs.jpeg" data-sizes="auto" alt="Node.js介绍"
                 class="lazyload">
            <h1>Node.js介绍</h1>
        </div>
    

        <div class="nexmoe-post-meta nexmoe-rainbow" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2024年04月30日</a>
    <a><i class="nexmoefont icon-areachart"></i>7k 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 30 分钟</a>
</div>

        <div class="nexmoe-post-right">
            
                <div class="nexmoe-fixed">
                    <div class="nexmoe-valign">
                        <div class="nexmoe-toc">
                            
                            
                                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NodeJs-%E5%A4%A7%E8%87%B4%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="toc-number">1.2.</span> <span class="toc-text">NodeJs 大致架构图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NodeJs-%E4%B8%BB%E8%A6%81%E4%BD%9C%E7%94%A8"><span class="toc-number">1.3.</span> <span class="toc-text">NodeJs 主要作用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Nodejs%E4%B8%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E7%8E%AF%E5%A2%83"><span class="toc-number">2.</span> <span class="toc-text">Nodejs与浏览器环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E7%8E%AF%E5%A2%83%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">2.1.</span> <span class="toc-text">运行在浏览器环境中的代码：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E5%9C%A8Node-js%E7%8E%AF%E5%A2%83%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">2.2.</span> <span class="toc-text">运行在Node.js环境中的代码：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E7%8E%AF%E5%A2%83%E5%92%8CNode-js%E7%8E%AF%E5%A2%83%E7%9A%84%E4%BB%A3%E7%A0%81%E4%B8%BB%E8%A6%81%E5%AD%98%E5%9C%A8%E4%BB%A5%E4%B8%8B%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-number">2.3.</span> <span class="toc-text">运行在浏览器环境和Node.js环境的代码主要存在以下区别：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85NodeJs"><span class="toc-number">3.</span> <span class="toc-text">安装NodeJs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Node-Package-Manager"><span class="toc-number">4.</span> <span class="toc-text">Node Package Manager</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Package-json"><span class="toc-number">4.1.</span> <span class="toc-text">Package json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#npm-%E5%91%BD%E4%BB%A4"><span class="toc-number">4.2.</span> <span class="toc-text">npm 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#npm-install-%E5%90%8E%E7%BB%AD%E6%B5%81%E7%A8%8B"><span class="toc-number">4.3.</span> <span class="toc-text">npm install 后续流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#package-lock-json-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">4.4.</span> <span class="toc-text">package-lock.json 的作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#npm-run-%E5%8E%9F%E7%90%86"><span class="toc-number">4.5.</span> <span class="toc-text">npm run 原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NPX"><span class="toc-number">4.6.</span> <span class="toc-text">NPX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E5%B8%83NPM%E5%8C%85"><span class="toc-number">4.7.</span> <span class="toc-text">发布NPM包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NPM%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%8D"><span class="toc-number">4.8.</span> <span class="toc-text">NPM搭建私服</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%9F"><span class="toc-number">5.</span> <span class="toc-text">什么是模块化？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#es6%E5%92%8CcommonJS%E5%8C%BA%E5%88%AB"><span class="toc-number">5.1.</span> <span class="toc-text">es6和commonJS区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CommonJS-%E8%A7%84%E8%8C%83"><span class="toc-number">5.2.</span> <span class="toc-text">CommonJS 规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ESM%E6%A8%A1%E5%9D%97%E8%A7%84%E8%8C%83"><span class="toc-number">5.3.</span> <span class="toc-text">ESM模块规范</span></a></li></ol></li></ol>
                            
                        </div>
                    </div>
                </div>
            
        </div>

        <article>
            <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><ol>
<li><p><a target="_blank" rel="noopener" href="https://www.npmjs.com/">NodeJs</a>不是<code>JavaScript</code>应用，也不是编程语言，因为编程语言用的是<code>JavaScript</code>，Nodejs是 <code>JavaScript</code>的运行时的环境。</p>
</li>
<li><p>Nodejs是构建在V8引擎之上的，V8引擎是由C&#x2F;C++编写的，因此我们的JavaSCript代码需要由C&#x2F;C++转化后再执行。</p>
</li>
<li><p>NodeJs 使用异步 I&#x2F;O 和事件驱动的设计理念，可以高效地处理大量并发请求，提供了非阻塞式 I&#x2F;O 接口和事件循环机制，使得开发人员可以编写高性能、可扩展的应用程序，异步I&#x2F;O最终都是由<code>libuv</code> 事件循环库去实现的。</p>
</li>
<li><p>NodeJs 使用npm作为包管理工具，类似于python的pip，或者是java的Maven，目前<a target="_blank" rel="noopener" href="https://www.npmjs.com/">npm</a>拥有上百万个模块。</p>
</li>
<li><p>NodeJs适合干一些IO密集型应用，不适合CPU密集型应用，nodejsIO依靠libuv有很强的处理能力，而CPU因为NodeJs单线程原因，容易造成CPU占用率高，如果非要做CPU密集型应用，可以使用C++插件编写，或者NodeJs提供的<code>cluster</code>。(CPU密集型指的是图像的处理或者音频处理需要大量数据结构 + 算法的运算过程)</p>
<blockquote>
<p><em>IO意为Input和Output，也就是输入输出。</em></p>
</blockquote>
</li>
</ol>
<h3 id="NodeJs-大致架构图"><a href="#NodeJs-大致架构图" class="headerlink" title="NodeJs 大致架构图"></a>NodeJs 大致架构图</h3><p><img data-fancybox="gallery" data-sizes="auto" data-src="/2024/04/30/Node-js_Tutorial/1.png" alt="image.png" class="lazyload"></p>
<p>最上层为应用层，也就是可供开发的API，由<code>JavaScript</code>编写。</p>
<p>中间层和底层实现通讯，由C和C++来编写。</p>
<p>同时，NodeJs在做一些不擅长的事情的时候，可以使用C或C++写的插件来做。</p>
<p>底层需要使用V8引擎来解析<code>JavaScript</code>，最底层为操作系统，NodeJs可以实现跨平台。</p>
<h3 id="NodeJs-主要作用"><a href="#NodeJs-主要作用" class="headerlink" title="NodeJs 主要作用"></a>NodeJs 主要作用</h3><ol>
<li>为前端提供开发工具，vue-cli、webpack等</li>
<li>提供线上环境模拟（开发服务），本地开发如何上线进行调试</li>
<li>提供中间层服务器渲染（ssr、高流量项目）</li>
<li>做后端服务（极少）</li>
</ol>
<p>Nodejs的核心操作：</p>
<ol>
<li><strong>文件读写</strong></li>
<li><strong>网络服务</strong></li>
</ol>
<h2 id="Nodejs与浏览器环境"><a href="#Nodejs与浏览器环境" class="headerlink" title="Nodejs与浏览器环境"></a>Nodejs与浏览器环境</h2><h3 id="运行在浏览器环境中的代码："><a href="#运行在浏览器环境中的代码：" class="headerlink" title="运行在浏览器环境中的代码："></a>运行在浏览器环境中的代码：</h3><ul>
<li><strong>HTML页面中的JavaScript</strong>：在HTML文件的<code>&lt;script&gt;</code>标签中直接嵌入的JavaScript代码。这些代码通常用于处理用户的交互事件（如点击按钮）、更新DOM（如添加或修改页面元素）、发送AJAX请求等。</li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;  
&lt;html lang=&quot;en&quot;&gt;  
&lt;head&gt;  
    &lt;meta charset=&quot;UTF-8&quot;&gt;  
    &lt;title&gt;Browser Code&lt;/title&gt;  
&lt;/head&gt;  
&lt;body&gt;  
    &lt;button id=&quot;myButton&quot;&gt;Click me&lt;/button&gt;  
    &lt;script&gt;  
        document.getElementById(&#39;myButton&#39;).addEventListener(&#39;click&#39;, function() &#123;  
            alert(&#39;Button clicked!&#39;);  
        &#125;);  
    &lt;/script&gt;  
&lt;/body&gt;  
&lt;/html&gt;
</code></pre>
<ul>
<li><strong>外部JavaScript文件</strong>：通过<code>&lt;script src=&quot;...&quot;&gt;</code>标签在HTML页面中引入的外部JavaScript文件。这些文件通常包含更复杂的逻辑和函数，用于处理页面上的各种功能和交互。</li>
</ul>
<pre><code class="html">&lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p><code>script.js</code> 文件的内容：</p>
<pre><code class="javascript">function showAlert() &#123;  
    alert(&#39;Hello from script.js!&#39;);  
&#125;  
  
// 可以在页面上通过其他方式调用这个函数
</code></pre>
<ul>
<li><strong>浏览器特定的API</strong>：使用浏览器提供的特定API，如<code>window</code>、<code>document</code>、<code>navigator</code>、<code>localStorage</code>、<code>fetch</code> API等。</li>
</ul>
<h3 id="运行在Node-js环境中的代码："><a href="#运行在Node-js环境中的代码：" class="headerlink" title="运行在Node.js环境中的代码："></a>运行在Node.js环境中的代码：</h3><ul>
<li><strong>命令行工具</strong>：使用Node.js编写的命令行工具，可以执行各种任务，如文件操作、网络请求、数据转换等。</li>
</ul>
<pre><code class="javascript">// 例如，一个简单的Node.js程序，打印出&#39;Hello, Node.js!&#39;  
console.log(&#39;Hello, Node.js!&#39;);
</code></pre>
<ul>
<li><strong>Web服务器</strong>：使用Node.js的HTTP或Express等框架创建的Web服务器，用于处理客户端的请求并返回响应。</li>
</ul>
<pre><code class="javascript">const http = require(&#39;http&#39;);  
  
const server = http.createServer((req, res) =&gt; &#123;  
    res.writeHead(200, &#123; &#39;Content-Type&#39;: &#39;text/plain&#39; &#125;);  
    res.end(&#39;Hello, Node.js Server!&#39;);  
&#125;);  
  
server.listen(3000, () =&gt; &#123;  
    console.log(&#39;Server is listening on port 3000&#39;);  
&#125;);
</code></pre>
<ul>
<li><strong>后台任务</strong>：使用Node.js编写的长时间运行的后台任务，如数据抓取、图像处理、日志分析等。</li>
<li><strong>数据库操作</strong>：使用Node.js连接和操作数据库，如MySQL、MongoDB等。</li>
<li><strong>Node.js特定的模块和API</strong>：使用Node.js提供的核心模块（如<code>fs</code>、<code>path</code>、<code>http</code>）或第三方模块（如Express、Koa、Mongoose）来编写代码。</li>
<li><strong>没有DOM操作</strong>：Node.js代码通常不包含直接操作DOM的代码，因为它在服务器端运行，没有DOM环境。</li>
</ul>
<p>总结来说，运行在浏览器环境中的代码主要用于<u><strong>处理用户交互、更新页面内容、发送网络请求</strong></u>等前端任务，而运行在Node.js环境中的代码则主要用于<u><strong>构建服务器端应用、处理数据、创建命令行工具</strong></u>等后端任务。两者在使用的API、库、工具和运行环境上都有所不同。</p>
<h3 id="运行在浏览器环境和Node-js环境的代码主要存在以下区别："><a href="#运行在浏览器环境和Node-js环境的代码主要存在以下区别：" class="headerlink" title="运行在浏览器环境和Node.js环境的代码主要存在以下区别："></a>运行在浏览器环境和Node.js环境的代码主要存在以下区别：</h3><ol>
<li><p>全局对象：</p>
<ul>
<li><p>在浏览器中定义全局变量，会挂载到顶层对象<code>window</code>上，之后也可以通过<code>window</code>来访问该变量：</p>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2024/04/30/Node-js_Tutorial/Untitled.png" alt="Untitled" class="lazyload"></p>
</li>
<li><p>在Node.js环境中，使用<code>global</code>定义全局变量，例如：</p>
<pre><code class="jsx">//a.js
global.name = &#39;abc&#39;
//b.js
require(&#39;./a&#39;)
console.log(global.name)
</code></pre>
<p>此时输入指令<code>node b.js</code>，控制台成功输出<code>abc</code></p>
<p>但由于浏览器和nodejs的全局变量不一样，不同的环境还需要判断，于是在<code>ECMAScript 2020</code> 出现了一个<code>globalThis</code>全局变量，在nodejs环境会自动切换成<code>global</code> ，浏览器环境自动切换<code>window</code>非常方便</p>
</li>
</ul>
</li>
<li><p>运行环境：</p>
<ul>
<li>浏览器环境主要用于运行前端代码，与用户直接交互，如操作DOM、处理用户事件等。</li>
<li>Node.js环境主要用于运行服务器端代码，如文件操作、数据库操作、网络请求等。Node.js提供了许多API，如<code>fs</code>、<code>http</code>、<code>crypto</code>、<code>path</code>等，用于处理这些服务器端任务。</li>
</ul>
</li>
<li><p>模块系统：</p>
<ul>
<li>浏览器环境原生支持ES6模块，并可以通过工具如<code>webpack</code>支持<code>CommonJS</code>或<code>AMD</code>等模块系统。</li>
<li>Node.js环境原生支持<code>CommonJS</code>模块，并已经开始支持ES6模块。在Node.js中，模块是通过<code>require()</code>函数引入的，而在浏览器中，可以使用ES6的<code>import</code>语句或其他模块加载器。</li>
</ul>
</li>
<li><p>DOM操作：</p>
<ul>
<li>浏览器环境提供了对DOM的完整访问，允许JavaScript代码直接操作HTML和CSS。</li>
<li>Node.js环境不仅没有DOM，也没有BOM，不能直接操作HTML或CSS。</li>
</ul>
</li>
<li><p>安全性：</p>
<ul>
<li>浏览器环境的安全性受到同源策略（<code>Same-Origin Policy</code>）的限制，以防止跨站脚本攻击（<code>XSS</code>）和其他安全问题。浏览器中的JavaScript代码不能直接访问其他来源的数据或资源。</li>
<li>Node.js环境在服务器端运行，因此具有更高的权限和更少的限制。然而，这也增加了潜在的安全风险，因此开发者需要格外小心，避免引入安全漏洞。</li>
</ul>
</li>
<li><p>I&#x2F;O操作：</p>
<ul>
<li>在浏览器环境中，JavaScript代码通常通过<code>AJAX</code>或<code>Fetch API</code>等技术与服务器进行异步通信。这些操作是异步的，不会阻塞主线程。</li>
<li>在Node.js环境中，JavaScript代码可以直接与文件系统、数据库和其他I&#x2F;O设备进行交互。Node.js使用事件驱动和非阻塞I&#x2F;O模型来处理这些操作，以实现高并发和性能。</li>
</ul>
</li>
<li><p>扩展性：</p>
<ul>
<li>浏览器环境主要关注前端功能的实现和用户体验的优化，因此其API和功能相对有限。</li>
<li>Node.js环境则更加灵活和可扩展，它可以通过npm（Node Package Manager）安装和使用大量的第三方库和工具来扩展其功能和应用范围。</li>
</ul>
</li>
</ol>
<h2 id="安装NodeJs"><a href="#安装NodeJs" class="headerlink" title="安装NodeJs"></a>安装NodeJs</h2><ul>
<li><strong>如果你是一个初学者或只需要在单一项目中工作</strong>：直接安装 Node.js<ol>
<li>当安装 Node.js 时，npm 通常会自动作为一部分一起安装，因为 npm 是 Node.js 的默认包管理工具。它允许开发者从 npm 仓库中安装、更新、发布和管理 Node.js 的第三方包和依赖。</li>
<li>npm 还支持使用 <code>package.json</code> 文件来管理项目的依赖和元数据，因此在项目中使用<code>npm install</code>即可将依赖包下载完成，</li>
</ol>
</li>
<li><strong>如果你需要维护多个项目，并且这些项目需要不同版本的 Node.js</strong>：安装 <a target="_blank" rel="noopener" href="https://github.com/nvm-sh/nvm">nvm</a> 可以更好地管理不同版本的 Node.js，避免版本冲突。<ol>
<li><strong>使用 nvm 安装或卸载特定版本Node.js</strong>：<code>nvm install 16.16.0</code> 和<code>nvm uninstall 16.16.0</code></li>
<li><strong>切换 Node.js 版本</strong>：<code>nvm use 14.15.3</code></li>
<li><strong>查看已安装和当前正在使用的 Node.js 版本</strong>：<code>nvm list</code></li>
</ol>
</li>
</ul>
<blockquote>
<p><em>安装成功后可以输入<code>node -v &amp;&amp; npm -v &amp;&amp; npx -v</code> 来查看是否安装成功及安装版本</em></p>
</blockquote>
<p>npm（全称 Node Package Manager）是 Node.js 的包管理工具，它是一个基于命令行的工具，用于帮助开发者在自己的项目中安装、升级、移除和管理依赖项。</p>
<hr>
<h2 id="Node-Package-Manager"><a href="#Node-Package-Manager" class="headerlink" title="Node Package Manager"></a>Node Package Manager</h2><h3 id="Package-json"><a href="#Package-json" class="headerlink" title="Package json"></a>Package json</h3><p>执行<code>npm init</code>便可以初始化一个package.json，括号内为默认选项，加上<code>-y</code>参数则将所有选项填充为默认值。</p>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2024/04/30/Node-js_Tutorial/a.png" alt="image.png" class="lazyload"></p>
<ol>
<li><p><code>name</code>：项目名称，必须是唯一的字符串，通常采用小写字母和连字符的组合。</p>
</li>
<li><p><code>version</code>：项目版本号，通常采用语义化版本号规范。</p>
<blockquote>
<p><em>version 三段式版本号（例如1.0.0 ）分别代表大版本号、次版本号 、修订号，<br>大版本号一般是有重大变化才会升级，<br>次版本号一般是增加功能进行升级，<br>修订号一般是修改bug进行升级</em></p>
</blockquote>
</li>
<li><p><code>description</code>：项目描述。</p>
</li>
<li><p><code>main</code>：项目的主入口文件路径，通常是一个 JavaScript 文件。</p>
</li>
<li><p><code>keywords</code>：项目的关键字列表，方便他人搜索和发现该项目。</p>
</li>
<li><p><code>author</code>：项目作者的信息，包括姓名、邮箱、网址等。</p>
</li>
<li><p><code>license</code>：项目的许可证类型，可以是自定义的许可证类型或者常见的开源许可证（如 MIT、Apache 等）。</p>
</li>
<li><p><code>dependencies</code>：项目生产环境所依赖的包的列表，这些包会在项目运行时自动安装。如果想在不同环境下配置不同的依赖项，可以使用以下两个配置：</p>
<ul>
<li><p><code>devDependencies</code>：仅在开发过程中所需要的包的列表，这些包不会随项目一起发布，而是只在开发时使用。</p>
</li>
<li><p><code>peerDependencies</code>：项目的同级依赖，即项目所需要的模块被其他模块所依赖。一般是给编写插件和npm包的人员所使用的，比如插件名为<code>vite-plugin-xm</code>，插件的依赖为<code>vite</code> ：</p>
<pre><code class="json">  &quot;dependencies&quot;: &#123;
    &quot;vite-plugin-xm&quot;:&quot;1.0.0&quot;
  &#125;,
  &quot;peerDependencies&quot;: &#123;
    &quot;vite&quot;:&quot;^5.2.10&quot;
  &#125;
</code></pre>
</li>
</ul>
</li>
<li><p><code>scripts</code>：定义了一些脚本命令，比如启动项目、运行测试等。这些命令是通过<code>npm run xxx</code> 来执行的。</p>
</li>
<li><p><code>repository</code>：项目代码仓库的信息，包括类型、网址等。</p>
<pre><code class="json">  &quot;repository&quot;: &#123;
    &quot;type&quot;: &quot;git&quot;,
    &quot;url&quot;: &quot;no git&quot;
  &#125;,
</code></pre>
</li>
<li><p><code>bugs</code>：项目的 bug 报告地址。</p>
</li>
<li><p><code>homepage</code>：项目的官方网站地址或者文档地址，将npm包发布到npm官网上之后，以上配置都可以被看到。</p>
</li>
</ol>
<h3 id="npm-命令"><a href="#npm-命令" class="headerlink" title="npm 命令"></a>npm 命令</h3><ol>
<li><p><code>npm init</code>：初始化一个新的 npm 项目，生成 package.json 文件。</p>
</li>
<li><p><code>npm install</code>：安装一个包或一组包（默认为最新的，可以通过<code>@</code>来下载指定版本），简写为<code>npm i</code>。安装的依赖都会存放在根目录的node_modules，默认采用扁平化的方式安装，并且排序规则为<code>.&gt;@&gt;首字母</code>。使用的算法是广度优先遍历，在遍历依赖树时，npm会首先处理项目根目录下的依赖，然后逐层处理每个依赖包的依赖，直到所有依赖都被处理完毕。在处理每个依赖时，npm会检查该依赖的版本号是否符合依赖树中其他依赖的版本要求，如果不符合，则会尝试安装适合的版本。但是这种扁平化只存在于理想情况下，如果有多个模块用到同一个依赖，会出现复用的情况：</p>
<ul>
<li>安装某个二级模块时，若发现第一层级有相同名称，相同版本的模块，便直接复用那个模块</li>
<li>安装某个二级模块时，若发现第一层级有相同名称，但不同版本的模块，会下载多个版本的该模块，还是会出现模块冗余的情况</li>
</ul>
<p>比如A 依赖 C1.0，B 依赖 C1.0，D 依赖 C2.0。此时C 1.0就会被放到A B的node_moduels，C2.0 会被放入D模块下面的node_moduels。</p>
</li>
<li><p><code>npm install &lt;package-name&gt; --save</code>：安装指定的包，并将其添加到 package.json 文件中的<code>dependencies</code>依赖列表中，在npm5.4版本之后加不加没区别。</p>
</li>
<li><p><code>npm install &lt;package-name&gt; --save-dev</code>：安装指定的包，并将其添加到 package.json 文件中的开发依赖列表中，简写为<code>npm -D</code>。</p>
</li>
<li><p><code>npm install -g &lt;package-name&gt;</code>：全局安装指定的包。</p>
</li>
<li><p><code>npm update &lt;package-name&gt;</code>：更新指定的包。</p>
</li>
<li><p><code>npm uninstall &lt;package-name&gt;</code>：卸载指定的包。</p>
</li>
<li><p><code>npm run &lt;script-name&gt;</code>：执行 package.json 文件中定义的脚本命令。</p>
</li>
<li><p><code>npm search &lt;keyword&gt;</code>：搜索 npm 库中包含指定关键字的包。</p>
</li>
<li><p><code>npm info &lt;package-name&gt;</code>：查看指定包的详细信息。</p>
</li>
<li><p><code>npm list</code>：列出当前项目中安装的所有包。</p>
</li>
<li><p><code>npm outdated</code>：列出当前项目中需要更新的包。</p>
</li>
<li><p><code>npm audit</code>：检查当前项目中的依赖项是否存在安全漏洞。</p>
</li>
<li><p><code>npm publish</code>：发布自己开发的包到 npm 库中。</p>
</li>
<li><p><code>npm login</code>：登录 npm 账户。</p>
</li>
<li><p><code>npm logout</code>：注销当前 npm 账户。</p>
</li>
<li><p><code>npm link</code>: 将本地模块链接到全局的 node_modules 目录下</p>
</li>
<li><p><code>npm config list</code> 用于列出所有的 npm 配置信息。执行该命令可以查看当前系统和用户级别的所有 npm 配置信息，以及当前项目的配置信息（如果在项目目录下执行该命令）</p>
</li>
<li><p><code>npm get registry</code> 用于获取当前 npm 配置中的 registry 配置项的值。registry 配置项用于指定 npm 包的下载地址，如果未指定，则默认使用 npm 官方的包注册表地址</p>
</li>
<li><p><code>npm config set registry &lt;registry-url&gt;</code> 命令，将 registry 配置项的值修改为指定的 <code>&lt;registry-url&gt;</code> 地址，比如淘宝镜像。</p>
</li>
</ol>
<h3 id="npm-install-后续流程"><a href="#npm-install-后续流程" class="headerlink" title="npm install 后续流程"></a>npm install 后续流程</h3><p>首先，检查config里的文件（可以通过<code>npm config —list</code>来查看），首先检查项目级别的<code>.npmrc</code>，至于npmrc可以配置什么给大家一个demo参考。如果没有进行配置过的话，会按照用户级别&gt;全局级别&gt;node内置级别的顺序去找<code>.npmrc</code>配置文件。</p>
<pre><code class="jsx">registry=http://registry.npmjs.org/
# 定义npm的registry，即npm的包下载源

proxy=http://proxy.example.com:8080/
# 定义npm的代理服务器，用于访问网络

https-proxy=http://proxy.example.com:8080/
# 定义npm的https代理服务器，用于访问网络

strict-ssl=true
# 是否在SSL证书验证错误时退出

cafile=/path/to/cafile.pem
# 定义自定义CA证书文件的路径

user-agent=npm/&#123;npm-version&#125; node/&#123;node-version&#125; &#123;platform&#125;
# 自定义请求头中的User-Agent

save=true
# 安装包时是否自动保存到package.json的dependencies中

save-dev=true
# 安装包时是否自动保存到package.json的devDependencies中

save-exact=true
# 安装包时是否精确保存版本号

engine-strict=true
# 是否在安装时检查依赖的node和npm版本是否符合要求

scripts-prepend-node-path=true
# 是否在运行脚本时自动将node的路径添加到PATH环境变量中
</code></pre>
<p>找到配置后会检查是否存在package-lock.json文件：</p>
<ul>
<li>如果存在会比较package-lock.json和package.json的版本是否一致：<ul>
<li>如果不一致，会根据package.json的版本进行下载，并对package-lock.json文件进行更新。</li>
<li>如果一致，会检查是否存在需要安装模块的缓存，也就是之前安装过该模块，会直接把该模块解压到node_modules中，如果不存在的话，则去npm官网下载该资源包，并检查其完整性，添加到缓存中，更新lock文件，最后解压到node_modules中</li>
</ul>
</li>
<li>如果不存在，获取包的信息，扁平化构建依赖树，再来检查有没有缓存，后续过程和以上内容没差别</li>
</ul>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2024/04/30/Node-js_Tutorial/image.webp" alt="image.png" class="lazyload"></p>
<h3 id="package-lock-json-的作用"><a href="#package-lock-json-的作用" class="headerlink" title="package-lock.json 的作用"></a>package-lock.json 的作用</h3><p>很多朋友只知道这个东西可以锁定版本记录依赖树详细信息，它的一些具体参数含义为：</p>
<ul>
<li>version 参数指定了当前包的版本号</li>
<li>resolved 参数指定了当前包的下载地址</li>
<li>integrity 是一串用于验证包的完整性的哈希值</li>
<li>dev 参数指定了当前包是一个开发依赖包</li>
<li>bin 参数指定了当前包中可执行文件的路径和名称</li>
<li>engines 参数指定了当前包所依赖的Node.js版本范围</li>
</ul>
<p>知识点来了，package-lock.json 帮我们做了缓存，他会通过 <code>name + version + integrity</code> 信息生成一个唯一的key，这个key能找到对应的index-v5 下的缓存记录，如果发现有缓存记录，就会找到tar包的hash值，然后将对应的二进制文件解压到node_modeules</p>
<h3 id="npm-run-原理"><a href="#npm-run-原理" class="headerlink" title="npm run 原理"></a>npm run 原理</h3><p>假设我们想要执行一个脚本命令<code>npm run dev</code> ，该命令具体为：</p>
<pre><code class="jsx">&quot;scripts&quot;:&#123;
    &quot;dev&quot;: &quot;vite&quot;
&#125;
</code></pre>
<p>所有的可执行脚本都放在node_modules&#x2F;.bin里，读取package.json 的scripts 对应的脚本命令时，查找规则是：</p>
<ol>
<li>先从当前项目的node_modules&#x2F;.bin去查找可执行命令vite</li>
<li>如果没找到就去全局的node_modules 去找可执行命令vite</li>
<li>如果还没找到就去环境变量查找</li>
<li>再找不到就进行报错</li>
</ol>
<p>因为nodejs 是跨平台的，所以需要可执行命令兼容各个平台，因此如果成功找到该脚本命令就会发现有三个文件：</p>
<ol>
<li><code>.sh</code>文件是给Linux unix Macos 使用</li>
<li><code>.cmd</code> 给windows的cmd使用</li>
<li><code>.ps1</code> 给windows的powerShell 使用</li>
</ol>
<p>脚本命令不是凭空产生的，是在package.json的<code>bin</code> 配置项中去配置的，配置完之后，当用户对该npm包进行安装时，会自动在<code>node_modules/.bin</code>中注入该脚本命令的三个可执行文件</p>
<p><strong>npm run 的生命周期：</strong></p>
<p>比如我们想要执行dev指令，那么predev和postdev将自动在dev指令执行之前和之后自动执行</p>
<pre><code>&quot;predev&quot;: &quot;node prev.js&quot;,
&quot;dev&quot;: &quot;node index.js&quot;,
&quot;postdev&quot;: &quot;node post.js&quot;
</code></pre>
<p>运用场景：</p>
<ol>
<li><code>npm run build </code>可以在打包之后删除dist目录等等</li>
<li><code>npm run post </code>编写完一个工具发布npm，那就可以在之后写一个ci脚本顺便帮你推送到git等等</li>
</ol>
<h3 id="NPX"><a href="#NPX" class="headerlink" title="NPX"></a>NPX</h3><p>npx是一个命令行工具，它是npm 5.2.0版本中新增的功能。它允许用户在不安装全局包的情况下，运行已安装在本地项目中的包或者远程仓库中的包的可执行文件。具有以下优点：</p>
<ol>
<li>避免全局污染：npx允许你执行npm package，而不需要你先全局安装它</li>
<li>总是使用最新版本：如果你没有在本地安装相应的npm package，npx会从npm的package仓库中下载并使用最新版，执行完之后再把包删掉</li>
<li>执行任意npm包：npx不仅可以执行在package.json的scripts部分定义的命令，还可以执行任何npm package，甚至可以执行GitHub gist或者其他公开的JavaScript文件</li>
</ol>
<aside>
💡 `npm ls -g` 查看全局安装的可执行文件，不加`-g`就是查看当前项目


</aside>

<p><strong>npm 和 npx 区别：</strong></p>
<ol>
<li><p>npx 侧重于执行命令的，执行某个模块命令。虽然会自动安装模块，但是重在执行某个命令。它有两种使用场景：</p>
<ul>
<li><p>创建一个react项目，<code>npm install -g create-react-app</code> ，将该模块安装到全局之后才能执行 <code>create-react-app my-app</code>，这样的话会有两个问题：</p>
<ol>
<li>首先需要全局安装这个包占用磁盘空间</li>
<li>如果模块需要更新还得执行更新命令</li>
</ol>
<p>因此，使用npx不仅不占用磁盘空间，而且能保证执行的命令为最新版，但是每次执行都要等待它重新下载</p>
</li>
<li><p>在本地项目中执行vite，但是我全局并没有安装vite，仅在当前项目<code>npm i vite -D</code>安装了vite，由于当前项目没有配置环境变量，因此是无法直接执行该命令的，使用<code>npx vite</code> 可以直接运行未全局安装的npm包，因为npx 的运行规则和npm 是一样的，本地目录查找<code>.bin</code> ，如果没有就去全局的node_moduels 查找，如果还没有就去下载这个包然后运行命令，然后删除这个包</p>
</li>
</ul>
</li>
<li><p>npm侧重于安装或者卸载某个模块，重在安装，并不具备执行某个模块的功能。</p>
</li>
</ol>
<h3 id="发布NPM包"><a href="#发布NPM包" class="headerlink" title="发布NPM包"></a>发布NPM包</h3><p><strong>发布npm的包的好处是什么？</strong></p>
<ol>
<li>方便团队或者跨团队共享代码，使用npm包就可以方便的管理，并且还可以进行版本控制</li>
<li>做开源造轮子必备技术，否则你做完的轮子如何让别人使用难道是U盘拷贝？</li>
<li>增加个人IP 让更多的人知道你的技术能力和贡献</li>
</ol>
<p><strong>发布工作：</strong></p>
<ol>
<li><p>首先先检查一下是否是npm源然后<code>npm adduser</code>创建一个npm账号</p>
</li>
<li><p>创建完成之后使用<code>npm login</code> 登录账号，登录之前<code>npm get registry</code>检查一下使用的是否是npm官方正版源</p>
</li>
<li><p>登录完成之后使用<code>npm publish</code> 发布当前项目的npm包，发布规则：</p>
<ul>
<li>同个包的版本不能重复</li>
<li>不能和别人使用重复包名，否则会报403</li>
<li>可以在package.json中的files配置项中指定想要发布的文件</li>
</ul>
</li>
<li><p>发布成功</p>
</li>
<li><p>管理包权限</p>
<pre><code class="bash">npm owner ls &lt;package name&gt;
npm owner add &lt;user&gt; &lt;package name&gt; 
npm owner rm &lt;user&gt; &lt;package name&gt;
</code></pre>
</li>
</ol>
<h3 id="NPM搭建私服"><a href="#NPM搭建私服" class="headerlink" title="NPM搭建私服"></a>NPM搭建私服</h3><p>我们平时发布npm包是发在npm官方的镜像源上，npm的私服则是个人仓库，基本上每个公司都会有自己的npm私服，发布一些内部包。构建npm私服的优点：</p>
<ol>
<li>可以离线使用，你可以将npm私服部署到内网集群，这样离线也可以访问私有的包。</li>
<li>提高包的安全性，使用私有的npm仓库可以更好的管理你的包，避免在使用公共的npm包的时候出现漏洞。比如公共npm包如果出现了问题，私有仓库可以选择不进行同步，维持原来版本。</li>
<li>提高包的下载速度，使用私有 npm 仓库，你可以将经常使用的 npm 包缓存到本地，从而显著提高包的下载速度，减少依赖包的下载时间。这对于团队内部开发和持续集成、部署等场景非常有用。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://verdaccio.org/">如何搭建npm 私服</a></p>
<p>Verdaccio 是可以帮我们快速构建npm私服的一个工具，安装好依赖之后直接运行即可</p>
<pre><code class="jsx">npm install verdaccio -g
</code></pre>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7261872148213415994">具体过程参照</a></p>
<h2 id="什么是模块化？"><a href="#什么是模块化？" class="headerlink" title="什么是模块化？"></a><strong>什么是模块化？</strong></h2><p>概括：模块化的目的是当系统的规模和复杂度上升后，将代码拆分成多个独立、可重用的单元，<u>提升代码的复用性，避免全局变量污染</u></p>
<p>阐述：将一些共有或者私有的变量和方法封装为一个模块后导出，来让别的模块引用。每个模块都具有特定的功能和职责，并且可以与其他模块进行交互。</p>
<p>总结：一个模块的基本内容是：依赖的模块、自己要做的事情、要导出的变量&#x2F;方法</p>
<h3 id="es6和commonJS区别"><a href="#es6和commonJS区别" class="headerlink" title="es6和commonJS区别"></a>es6和commonJS区别</h3><p>ES6 module <u>静态编译时加载</u>，输出的是接口，CommonJS <u>动态运行时加载</u>，加载的是一个对象</p>
<p>ES6 module支持异步加载，浏览器中会用到该特性，而CommonJS是不支持异步的，因为服务器端不需要异步加载。所以CommonJS不可替代ES6 module，ES6 module可以替代CommonJS。</p>
<ol>
<li><p><strong>语法</strong>：</p>
<ul>
<li>ES6 使用 <code>import</code> 和 <code>export</code> 关键字来导入和导出模块，更简洁直观。</li>
<li>CommonJS 使用 <code>require()</code> 函数来导入模块，并使用 <code>module.exports</code> 或 <code>exports</code> 对象来导出模块。</li>
</ul>
</li>
<li><p><strong>静态与动态</strong>：</p>
<ul>
<li><p>ES6 模块是静态的，这意味着模块的依赖关系在编译时就确定了，模块会在文件执行之前被加载和执行。但 ES6 也支持异步加载（如动态 <code>import()</code>）。这意味着模块的加载不会阻塞后续代码的执行，而是会返回一个Promise，该Promise在模块加载完成后才会被解析，因此，它也可以实现类似 CommonJS 的实现方式。</p>
<pre><code class="jsx">import(&#39;./a.js&#39;).then(res=&gt;console.log(&quot;success&quot;))
</code></pre>
</li>
<li><p>CommonJS 模块是动态的，它在运行时解析模块的依赖关系，因此可能会导致一些运行时的开销。当一个模块被引入时，它会立即执行并且等待加载完成，然后才继续执行后续代码。比如，以下写法在 CommonJS 中是支持的：</p>
<pre><code class="jsx">if(true)&#123; require(&#39;./a.js&#39;) &#125;
</code></pre>
<p>但如果文件过大时，加载过多模块会导致下面的代码被阻塞。</p>
</li>
</ul>
</li>
<li><p><strong>缓存</strong>：</p>
<ul>
<li>ES6 模块的导入是单例模式，也就是说，一个模块只会被加载和执行一次，后续的导入都会返回同一个实例。</li>
<li>CommonJS 模块的导入是值拷贝，每次导入都会创建一个新的实例。</li>
</ul>
</li>
<li><p><strong>浏览器和Node.js兼容性</strong>：</p>
<ul>
<li>ES6 模块的兼容性在浏览器中逐渐提升，但在Node.js中还需要使用 <code>-experimental-modules</code> 标志启用（虽然现在Node.js已经支持ES6模块作为稳定特性）。</li>
<li>CommonJS 主要在Node.js环境中使用，并已被广泛接受和支持。</li>
</ul>
</li>
<li><p><strong>其他：</strong></p>
<ul>
<li>CommonJS 中顶层的 this 指向这个模块本身，而 ES6 中顶层 this 指向 undefined</li>
<li>CommonJS 是可以修改模块值的，esm值并且不可修改（可读的）</li>
<li>CommonJS 不可以tree shaking，esm支持tree shaking，因为在esm在编译阶段已经知道需要知道那些模块了。</li>
</ul>
</li>
</ol>
<h3 id="CommonJS-规范"><a href="#CommonJS-规范" class="headerlink" title="CommonJS 规范"></a>CommonJS 规范</h3><blockquote>
<p><em>将package.json中的<code>type</code>配置项设置为<code>commonjs</code>，表示支持该规范</em></p>
</blockquote>
<p><strong>模块引入：</strong></p>
<p>CommonJs规范引入模块（require）支持四种格式</p>
<ol>
<li><p>支持引入内置模块例如 <code>http</code> <code>os</code> <code>fs</code> <code>child_process</code> 等nodejs内置模块</p>
<pre><code class="jsx">const fs = require(&#39;node:fs&#39;)
</code></pre>
</li>
<li><p>支持引入第三方模块<code>express</code> <code>md5</code> <code>koa</code> 等</p>
<pre><code class="jsx">const md5 = require(&#39;md5&#39;)
md5(&#39;123&#39;) //加密
</code></pre>
</li>
<li><p>支持引入自己编写的模块，用路径形式 .&#x2F; ..&#x2F; 等引入</p>
<pre><code class="jsx">require(&#39;./test.js&#39;)
</code></pre>
</li>
<li><p>支持引入addon C++扩展模块 .node文件</p>
<pre><code>const nodeModule = require(&#39;./myModule.node&#39;);  // 导入扩展模块
</code></pre>
</li>
<li><p>支持引入JSON文件</p>
<pre><code class="jsx">const data = require(&#39;./data.json&#39;)
</code></pre>
</li>
</ol>
<p><strong>模块导出：</strong>   </p>
<p>使用<code>module.exports=&#123;&#125;</code>的形式将导出为一个对象                                                                                                                                                                                                                                                                                                                                                                           </p>
<pre><code>module.exports = &#123;
    success: 1,
    hello: function() &#123;
    console.log(&#39;Hello, world!&#39;);
  &#125;
&#125;;
</code></pre>
<p>可以使用es6的解构赋值，直接拿到对象中的属性或方法</p>
<pre><code class="jsx">const &#123;success&#125; = require(&#39;./test.js&#39;)
</code></pre>
<h3 id="ESM模块规范"><a href="#ESM模块规范" class="headerlink" title="ESM模块规范"></a>ESM模块规范</h3><blockquote>
<p><em>将package.json中的<code>type</code>配置项设置为<code>mo</code>dule，表示支持该规范</em></p>
</blockquote>
<p><strong>模块引入：</strong></p>
<ul>
<li><p>如果想查看模块内的全部内容，可以通过<code>as all</code>来加载模块的整体对象</p>
<pre><code>import * as all from &#39;xxx.js&#39;
</code></pre>
</li>
</ul>
<p>动态导入模块</p>
<p>import静态加载不支持掺杂在逻辑中如果想动态加载请使用import函数模式</p>
<pre><code>if(true)&#123;
    import(&#39;./test.js&#39;).then()
&#125;
</code></pre>
<p><strong>模块导出：</strong></p>
<ul>
<li>导出的默认对象只能有一个，不可重复export default</li>
</ul>
<pre><code>export default &#123;
    name: &#39;test&#39;
&#125;
</code></pre>
<ul>
<li>导出变量</li>
</ul>
<pre><code class="javascript">export const a = 1
</code></pre>

        </article>

        
            
  <div class="nexmoe-post-copyright">
    <strong>本文作者：</strong>Talita<br>
    
      <strong>文章来源：</strong><a href="https://juejin.cn/user/2463384809252397/posts" title="https:&#x2F;&#x2F;juejin.cn&#x2F;user&#x2F;2463384809252397&#x2F;posts" target="_blank" rel="noopener">https:&#x2F;&#x2F;juejin.cn&#x2F;user&#x2F;2463384809252397&#x2F;posts</a><br>
    
    <strong>本文链接：</strong><a href="http://example.com/2024/04/30/Node-js_Tutorial/" title="http:&#x2F;&#x2F;example.com&#x2F;2024&#x2F;04&#x2F;30&#x2F;Node-js_Tutorial&#x2F;" target="_blank" rel="noopener">http:&#x2F;&#x2F;example.com&#x2F;2024&#x2F;04&#x2F;30&#x2F;Node-js_Tutorial&#x2F;</a><br>

    
      <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
    
  </div>


        

        <div class="nexmoe-post-meta nexmoe-rainbow">
    
        <a class="nexmoefont icon-appstore-fill -link" href="/categories/Node-js/">Node.js</a>
    
    
        <a class="nexmoefont icon-tag-fill -none-link" href="/tags/node/" rel="tag">node</a>
    
</div>

    <div class="nexmoe-post-footer">
        <section class="nexmoe-comment">
    <div class="valine"></div>
<script src='https://lib.baomitu.com/valine/1.3.9/Valine.min.js'></script>
<script>
    // 使用方法 https://valine.js.org/quickstart.html
    new Valine({
        el: '.valine',
        appId: 'r5zxC0st0DDjPA9auXzMV7HY-gzGzoHsz',
        appKey: '3bqCsovpyfTPHUzTHovd3V3V'
    })
</script>
</section>
    </div>
</div>


        <div class="nexmoe-post-right">
          
            <div class="nexmoe-fixed">
              <div class="nexmoe-tool">
                <a href="#" aria-label="回到顶部" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
              </div>
            </div>
          
        </div>
    </div>
  </div>
  <div id="nexmoe-pendant">
    <div class="nexmoe-drawer mdui-drawer nexmoe-pd" id="drawer">
        
            <div class="nexmoe-pd-item">
                <div class="clock">
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="memory"></div>
        <div class="needle" id="hours"></div>
        <div class="needle" id="minutes"></div>
        <div class="needle" id="seconds"></div>
        <div class="clock_logo">

        </div>

    </div>
<style>
    .clock {
        background-color: #ffffff;
        width: 70vw;
        height: 70vw;
        max-width: 70vh;
        max-height: 70vh;
        border: solid 2.8vw #242424;
        position: relative;
        overflow: hidden;
        border-radius: 50%;
        box-sizing: border-box;
        box-shadow: 0 1.4vw 2.8vw rgba(0, 0, 0, 0.8);
        zoom:0.2
    }

    .memory {
        position: absolute;
        top: 50%;
        left: 50%;
        transform-origin: center;
    }

    .memory:nth-child(1) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(0deg) translateY(-520%);
    }

    .memory:nth-child(2) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(6deg) translateY(-1461%);
    }

    .memory:nth-child(3) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(12deg) translateY(-1461%);
    }

    .memory:nth-child(4) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(18deg) translateY(-1461%);
    }

    .memory:nth-child(5) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(24deg) translateY(-1461%);
    }

    .memory:nth-child(6) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(30deg) translateY(-520%);
    }

    .memory:nth-child(7) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(36deg) translateY(-1461%);
    }

    .memory:nth-child(8) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(42deg) translateY(-1461%);
    }

    .memory:nth-child(9) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(48deg) translateY(-1461%);
    }

    .memory:nth-child(10) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(54deg) translateY(-1461%);
    }

    .memory:nth-child(11) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(60deg) translateY(-520%);
    }

    .memory:nth-child(12) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(66deg) translateY(-1461%);
    }

    .memory:nth-child(13) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(72deg) translateY(-1461%);
    }

    .memory:nth-child(14) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(78deg) translateY(-1461%);
    }

    .memory:nth-child(15) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(84deg) translateY(-1461%);
    }

    .memory:nth-child(16) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(90deg) translateY(-520%);
    }

    .memory:nth-child(17) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(96deg) translateY(-1461%);
    }

    .memory:nth-child(18) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(102deg) translateY(-1461%);
    }

    .memory:nth-child(19) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(108deg) translateY(-1461%);
    }

    .memory:nth-child(20) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(114deg) translateY(-1461%);
    }

    .memory:nth-child(21) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(120deg) translateY(-520%);
    }

    .memory:nth-child(22) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(126deg) translateY(-1461%);
    }

    .memory:nth-child(23) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(132deg) translateY(-1461%);
    }

    .memory:nth-child(24) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(138deg) translateY(-1461%);
    }

    .memory:nth-child(25) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(144deg) translateY(-1461%);
    }

    .memory:nth-child(26) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(150deg) translateY(-520%);
    }

    .memory:nth-child(27) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(156deg) translateY(-1461%);
    }

    .memory:nth-child(28) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(162deg) translateY(-1461%);
    }

    .memory:nth-child(29) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(168deg) translateY(-1461%);
    }

    .memory:nth-child(30) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(174deg) translateY(-1461%);
    }

    .memory:nth-child(31) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(180deg) translateY(-520%);
    }

    .memory:nth-child(32) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(186deg) translateY(-1461%);
    }

    .memory:nth-child(33) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(192deg) translateY(-1461%);
    }

    .memory:nth-child(34) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(198deg) translateY(-1461%);
    }

    .memory:nth-child(35) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(204deg) translateY(-1461%);
    }

    .memory:nth-child(36) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(210deg) translateY(-520%);
    }

    .memory:nth-child(37) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(216deg) translateY(-1461%);
    }

    .memory:nth-child(38) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(222deg) translateY(-1461%);
    }

    .memory:nth-child(39) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(228deg) translateY(-1461%);
    }

    .memory:nth-child(40) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(234deg) translateY(-1461%);
    }

    .memory:nth-child(41) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(240deg) translateY(-520%);
    }

    .memory:nth-child(42) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(246deg) translateY(-1461%);
    }

    .memory:nth-child(43) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(252deg) translateY(-1461%);
    }

    .memory:nth-child(44) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(258deg) translateY(-1461%);
    }

    .memory:nth-child(45) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(264deg) translateY(-1461%);
    }

    .memory:nth-child(46) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(270deg) translateY(-520%);
    }

    .memory:nth-child(47) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(276deg) translateY(-1461%);
    }

    .memory:nth-child(48) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(282deg) translateY(-1461%);
    }

    .memory:nth-child(49) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(288deg) translateY(-1461%);
    }

    .memory:nth-child(50) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(294deg) translateY(-1461%);
    }

    .memory:nth-child(51) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(300deg) translateY(-520%);
    }

    .memory:nth-child(52) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(306deg) translateY(-1461%);
    }

    .memory:nth-child(53) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(312deg) translateY(-1461%);
    }

    .memory:nth-child(54) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(318deg) translateY(-1461%);
    }

    .memory:nth-child(55) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(324deg) translateY(-1461%);
    }

    .memory:nth-child(56) {
        background-color: #424242;
        width: 2%;
        height: 8%;
        transform: translate(-50%, -50%) rotate(330deg) translateY(-520%);
    }

    .memory:nth-child(57) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(336deg) translateY(-1461%);
    }

    .memory:nth-child(58) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(342deg) translateY(-1461%);
    }

    .memory:nth-child(59) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(348deg) translateY(-1461%);
    }

    .memory:nth-child(60) {
        background-color: #949494;
        width: 1%;
        height: 3%;
        transform: translate(-50%, -50%) rotate(354deg) translateY(-1461%);
    }

    .needle {
        position: absolute;
        top: 50%;
        left: 50%;
        transform-origin: center;
    }

    .needle#hours {
        background-color: #1f1f1f;
        width: 4%;
        height: 30%;
        transform-origin: center 75%;
        transform: translate(-50%, -75%);
    }

    .needle#hours.moving {
        transition: transform 150ms ease-out;
    }

    .needle#hours:after {
        content: '';
        background-color: #1f1f1f;
        width: 4vw;
        height: 4vw;
        max-width: 4vh;
        max-height: 4vh;
        display: block;
        position: absolute;
        top: 75%;
        left: 50%;
        box-sizing: border-box;
        border-radius: 50%;
        transform: translate(-50%, -50%);
    }

    .needle#minutes {
        background-color: #1f1f1f;
        width: 2%;
        height: 45%;
        transform-origin: center 75%;
        transform: translate(-50%, -75%);
    }

    .needle#minutes.moving {
        transition: transform 150ms ease-out;
    }

    .needle#minutes:after {
        content: '';
        background-color: #1f1f1f;
        width: 4vw;
        height: 4vw;
        max-width: 4vh;
        max-height: 4vh;
        display: block;
        position: absolute;
        top: 75%;
        left: 50%;
        box-sizing: border-box;
        border-radius: 50%;
        transform: translate(-50%, -50%);
    }

    .needle#seconds {
        background-color: #cb2f2f;
        width: 1%;
        height: 50%;
        transform-origin: center 75%;
        transform: translate(-50%, -75%);
    }

    .needle#seconds.moving {
        transition: transform 150ms ease-out;
    }

    .needle#seconds:after {
        content: '';
        background-color: #cb2f2f;
        width: 2.5vw;
        height: 2.5vw;
        max-width: 2.5vh;
        max-height: 2.5vh;
        display: block;
        position: absolute;
        top: 75%;
        left: 50%;
        box-sizing: border-box;
        border-radius: 50%;
        transform: translate(-50%, -50%);
    }
    .clock_logo{
        width: 10vw;
        height: 10vw;
        max-width: 10vh;
        max-height: 10vh;
        position: absolute;
        top: 50%;
        left: 50%;
        box-sizing: border-box;
        border-radius: 50%;
        transform: translate(-50%, -50%);
        background-size: 100% 100%;
        background-repeat: no-repeat;
    }
    @media (min-width: 100vh) {
        .clock {
            border: solid 2.8vh #242424;
            box-shadow: 0 1.4vh 2.8vh rgba(0, 0, 0, 0.8);
        }
    }

</style>





            </div>
        
            <div class="nexmoe-pd-item">
                <div class="qweather" >
    <div id="he-plugin-standard"></div>
    <div class="qweather-logo">

    </div>

</div>
<style>
    .qweather{
        position: relative;
    }
    .qweather-logo{
        position: absolute;
        right: 0;
        top: -15px;
        width: 40px;
        height: 40px;
        background-size: 100% 100%;
        background-repeat: no-repeat;
    }
</style>
<script>
  WIDGET = {
    "CONFIG": {
      "layout": "2",
      "width": "260",
      "height": "220",
      "background": "5",
      "dataColor": "e67249",
      "borderRadius": "15",
      "key": "f74d1e1690e6432d801e97fa2f05a162"
    }
  }
</script>
<script src="https://widget.qweather.net/standard/static/js/he-standard-common.js?v=2.0"></script>

            </div>
        
</div>
<style>
    .nexmoe-pd {
        left: auto;
        top: 40px;
        right: 0;
    }
    .nexmoe-pd-item{
       display: flex;
        justify-content: center;
        margin-bottom: 30px;
    }
</style>

  </div>
  <script src="https://lib.baomitu.com/lazysizes/5.1.0/lazysizes.min.js"></script>
<script src="https://lib.baomitu.com/highlight.js/10.0.0/highlight.min.js"></script>
<script src="https://lib.baomitu.com/mdui/0.4.3/js/mdui.min.js"></script>

<script>
	hljs.initHighlightingOnLoad();
</script>

<script src="https://lib.baomitu.com/jquery/3.5.1/jquery.slim.min.js"></script>
<script src="/lib/fancybox/js/jquery.fancybox.min.js"></script>


<script src="/js/app.js?v=1715787362435"></script>

<script src="https://lib.baomitu.com/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>
<script>
	$(".justified-gallery").justifiedGallery({
		rowHeight: 160,
		margins: 10,
	});
</script>

  





<!-- hexo injector body_end start -->
<script src="https://lib.baomitu.com/clipboard.js/2.0.8/clipboard.min.js"></script>

<script src="/lib/codeBlock/codeBlockFuction.js"></script>

<script src="/lib/codeBlock/codeLang.js"></script>

<script src="/lib/codeBlock/codeCopy.js"></script>

<script src="/lib/codeBlock/codeShrink.js"></script>

<link rel="stylesheet" href="/lib/codeBlock/matery.css">

<script src="/js/webapp.js"></script>

<script src="/js/clock.js"></script>

<script src="https://code.jquery.com/jquery-3.6.0.js"></script>

<script src="/js/search.js"></script>
<!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":false},"rect":{"opacity":0.7},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>

<script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/250cb4aa.js","daovoice")</script>
<script>
  daovoice('init', {
    app_id: "250cb4aa"
  });
  daovoice('update');
</script>

